---
import type { CollectionEntry } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import ArticleMetas from '../components/ArticleMetas.astro';
import { Image } from "astro:assets";

type Props = CollectionEntry<'blog'>['data'];

const {
	category,
	title,
	intro,
	author,
	pubDate,
	updatedDate,
	heroImage, 
	heroImageCaption, 
	heroImageAlt,
	description
} = Astro.props;
---

<Layout {title}>
	<article class="content-flow entry-content">
		<h1>{title}</h1>
		<p class="intro">{intro}</p>
		<p><a href={`/category/${category}`}>category : {category}</a></p>
		<ArticleMetas 
			author={author} 
			pubDate={pubDate} 
			updatedDate={updatedDate}
		/>
		<figure class="media-element has-medium-flow-space is-medium-width-content">
			{heroImage && 
				<Image
					class="hero-image"
					src={heroImage}
					alt={heroImageAlt ? heroImageAlt : ''}
					widths={[320, 640, 1020]}
					width=1020
					height=510
					loading={'eager'}
				/>
			}
			{heroImageCaption && <figcaption class="media-element__caption">{heroImageCaption}</figcaption>}
		</figure>
		
		<slot />
	</article>
</Layout>